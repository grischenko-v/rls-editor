{"version":3,"sources":["components/Draggble.js","utils.js","components/Droppable.js","components/Map.js","App.js","reportWebVitals.js","index.js"],"names":["Draggable","name","useDrag","type","item","collect","monitor","opacity","isDragging","drag","ref","style","getBezierBasis","i","n","t","f","Math","pow","globalToMap","projection","position","mapObject","fromGlobalPixels","converter","pageToGlobal","x","y","getZoom","Droppable","allowedDropEffect","children","map","setTargets","setSelectedTarget","setTargetsPoints","setPlacmarks","useDrop","accept","drop","targets","count","filter","target","indexOf","length","current","newPlacemark","options","get","getClientOffset","points","copy","mapData","center","zoom","RLSMap","placemarks","start","setPointerIndex","pointerIndex","simulationSpeed","pointer","setPointer","bezeir","selectedTarget","targetsPoint","mapRef","useRef","React","useEffect","setTimeout","onPlacmarkDbClick","e","index","pointsCopy","cutted","arr","splice","removeByIndex","console","warn","defaultState","width","height","onClick","newPoint","push","instanceRef","behaviors","disable","placemark","geometry","draggable","onDragEnd","newPosition","poitsCopy","onPlaceMarkDrag","onDblclick","slice","balloonCloseButton","strokeColor","strokeWidth","strokeOpacity","editorMaxPoints","preset","iconColor","strokeStyle","targetTypes","App","useState","setStart","setSimulationSpeed","setBezier","targetsPoints","step","undefined","res","Array","ind","b","getBezierCurve","DndProvider","backend","HTML5Backend","className","axis","onChange","xmin","xmax","value","fill","onTargetSelect","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e4a3e836.chunk.js","sourcesContent":["import React from \"react\";\nimport {useDrag} from \"react-dnd\";\n\nexport const Draggable = ({name}) => {\n\tconst [{opacity}, drag] = useDrag(() => ({\n\t\ttype: 'draggable',\n\t\titem: {name},\n\t\tcollect: (monitor) => ({\n\t\t\topacity: monitor.isDragging() ? 0.4 : 1,\n\t\t}),\n\t}), [name]);\n\treturn (<div ref={drag} style={{opacity}}>\n\t\t{name}\n\t</div>);\n};","function getBezierBasis(i, n, t) {\n\tfunction f(n) {\n\t\treturn (n <= 1) ? 1 : n * f(n - 1);\n\t}\n\n\treturn (f(n)/(f(i)*f(n - i)))* Math.pow(t, i)*Math.pow(1 - t, n - i);\n}\n\nexport function getBezierCurve(arr, step) {\n\tif (step === undefined) {\n\t\tstep = 0.01;\n\t}\n\n\tif(arr.length < 2) {\n\t\treturn [];\n\t}\n\n\tvar res = new Array()\n\n\tfor (var t = 0; t < 1 + step; t += step) {\n\t\tif (t > 1) {\n\t\t\tt = 1;\n\t\t}\n\n\t\tvar ind = res.length;\n\n\t\tres[ind] = new Array(0, 0);\n\n\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\tvar b = getBezierBasis(i, arr.length - 1, t);\n\n\t\t\tres[ind][0] += arr[i][0] * b;\n\t\t\tres[ind][1] += arr[i][1] * b;\n\t\t}\n\t}\n\n\treturn res;\n}\n\n\nexport function globalToMap (projection, position, mapObject) {\n\treturn projection.fromGlobalPixels(mapObject.converter.pageToGlobal([position.x, position.y]),\n\t\tmapObject.getZoom());\n}\n\nexport const removeByIndex = (arr, index) => {\n\tconst copy = [...arr];\n\tcopy.splice(index, 1);\n\treturn copy;\n}","import React from 'react';\nimport { useDrop } from 'react-dnd';\nimport { globalToMap } from '../utils';\n\nexport const Droppable = ({allowedDropEffect, children, map, setTargets, setSelectedTarget, setTargetsPoints, setPlacmarks}) => {\n\tconst [_, drop] = useDrop(() => ({\n\t\taccept: 'draggable',\n\t\tdrop: (item, monitor) => {\n\t\t\tsetTargets(targets => {\n\t\t\t\tconst count = targets.filter(target => target.indexOf(item.name) !== -1).length + 1;\n\n\t\t\t\tconst mapObject = map.current\n\t\t\t\tconst projection = mapObject.options.get('projection');\n\t\t\t\tconst position = monitor.getClientOffset();\n\t\t\t\tconst newPlacemark = globalToMap(projection, position, mapObject);\n\t\t\t\tsetTargetsPoints(points => {\n\t\t\t\t\tconst copy = {...points};\n\t\t\t\t\tcopy[`${item.name} ${count}`] = [newPlacemark];\n\t\t\t\t\tsetPlacmarks([newPlacemark]);\n\t\t\t\t\treturn copy;\n\t\t\t\t});\n\t\t\t\tsetSelectedTarget(`${item.name} ${count}`);\n\n\t\t\t\treturn [...targets, `${item.name} ${count}`];\n\t\t\t});\n\t\t},\n\t}), [allowedDropEffect]);\n\treturn (<div ref={drop}>\n\t\t{children}\n\t</div>);\n};\n","import React, {useRef, useState} from 'react';\nimport { Map, Placemark, Polyline, YMaps } from 'react-yandex-maps';\nimport { Droppable } from './Droppable';\nimport { globalToMap, removeByIndex } from '../utils';\n\nconst mapData = {\n\tcenter: [55.751574, 37.573856],\n\tzoom: 5,\n};\n\nexport const RLSMap = ({\n\t\t\t\t\t\t   placemarks,\n\t\t\t\t\t\t   setPlacmarks,\n\t\t\t\t\t\t   setTargets,\n\t\t\t\t\t\t   start,\n\t\t\t\t\t\t   setPointerIndex,\n\t\t\t\t\t\t   pointerIndex,\n\t\t\t\t\t\t   simulationSpeed,\n\t\t\t\t\t\t   pointer,\n\t\t\t\t\t\t   setPointer,\n\t\t\t\t\t\t   bezeir,\n\t\t\t\t\t\t   selectedTarget,\n\t\t\t\t\t\t   setSelectedTarget,\n\t\t\t\t\t\t   targetsPoint,\n\t\t\t\t\t\t   setTargetsPoints,\n\t\t\t\t\t   }) => {\n\tconst mapRef = useRef(null);\n\n\tReact.useEffect(() => {\n\t\tif (start) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (pointerIndex < bezeir.length) {\n\t\t\t\t\tsetPointer(bezeir[pointerIndex]);\n\t\t\t\t\tsetPointerIndex(pointerIndex => pointerIndex + 1);\n\t\t\t\t}\n\t\t\t}, 1000 / simulationSpeed);\n\t\t}\n\t}, [start, bezeir, pointerIndex, simulationSpeed]);\n\n\tconst onPlaceMarkDrag = (e, index) => {\n\t\tconst position = {\n\t\t\tx: e.get('position')[0],\n\t\t\ty: e.get('position')[1],\n\t\t};\n\t\tconst mapObject = mapRef.current\n\t\tconst projection = mapObject.options.get('projection');\n\t\tconst newPosition = globalToMap(projection, position, mapObject);\n\t\tsetTargetsPoints(points => {\n\t\t\tconst poitsCopy = { ...points };\n\t\t\tconst copy = [...points[selectedTarget]];\n\t\t\tcopy[index] = newPosition;\n\t\t\tpoitsCopy[selectedTarget] = copy;\n\t\t\treturn poitsCopy;\n\t\t})\n\t}\n\n\tconst onPlacmarkDbClick = (e, index) => {\n\t\tif(index === 0) {\n\t\t\tconsole.warn('last point');\n\t\t\treturn;\n\t\t}\n\t\tsetTargetsPoints(points => {\n\t\t\tconst pointsCopy = { ...points };\n\t\t\tconst copy = [...points[selectedTarget]];\n\t\t\tconst cutted = removeByIndex(copy, index);\n\t\t\tpointsCopy[selectedTarget] = cutted;\n\t\t\treturn pointsCopy;\n\t\t});\n\t};\n\n\tReact.useEffect(() => {\n\t\tif(targetsPoint[selectedTarget]) {\n\t\t\tsetPlacmarks(targetsPoint[selectedTarget])\n\t\t}\n\t}, [targetsPoint]);\n\n\tconst onMapClick = (e) => {\n\t\tif (selectedTarget) {\n\t\t\tconst newPoint = e.get('coords');\n\t\t\tsetTargetsPoints(points => {\n\t\t\t\tconst copy = {...points};\n\t\t\t\tcopy[selectedTarget].push(newPoint);\n\t\t\t\treturn copy;\n\t\t\t});\n\t\t}\n\t}\n\n\treturn <YMaps>\n\t\t<Droppable\n\t\t\tallowedDropEffect={'copy'}\n\t\t\tmap={mapRef}\n\t\t\tsetTargets={setTargets}\n\t\t\tsetSelectedTarget={setSelectedTarget}\n\t\t\tsetPlacmarks={setPlacmarks}\n\t\t\tsetTargetsPoints={setTargetsPoints}>\n\t\t\t<Map defaultState={mapData}\n\t\t\t\t width={800}\n\t\t\t\t height={900}\n\t\t\t\t onClick={onMapClick}\n\t\t\t\t instanceRef={ref => {\n\t\t\t\t\t ref && ref.behaviors.disable('dblClickZoom');\n\t\t\t\t\t mapRef.current = ref;\n\t\t\t\t }}>\n\t\t\t\t{placemarks.map((placemark, index) => <Placemark\n\t\t\t\t\tkey={`${placemark[0]}__${placemark[1]}__${index}`}\n\t\t\t\t\tgeometry={placemark}\n\t\t\t\t\toptions={{draggable: true}}\n\t\t\t\t\tonDragEnd={(e) => onPlaceMarkDrag(e, index)}\n\t\t\t\t\tonDblclick={(e) => onPlacmarkDbClick(e, index)}/>)}\n\t\t\t\t{bezeir.length > 0 && <Polyline\n\t\t\t\t\tgeometry={bezeir.slice(0, pointerIndex)}\n\t\t\t\t\toptions={{\n\t\t\t\t\t\tballoonCloseButton: false,\n\t\t\t\t\t\tstrokeColor: '#FFD733',\n\t\t\t\t\t\tstrokeWidth: 4,\n\t\t\t\t\t\tstrokeOpacity: 0.5,\n\t\t\t\t\t\teditorMaxPoints: 20,\n\t\t\t\t\t}}/>}\n\t\t\t\t{pointer.length !== 0 &&\n\t\t\t\t<Placemark geometry={pointer} options={{preset: 'islands#circleIcon', iconColor: '#D9300C'}}/>}\n\t\t\t\t<Polyline\n\t\t\t\t\tgeometry={bezeir}\n\t\t\t\t\toptions={{\n\t\t\t\t\t\tballoonCloseButton: false,\n\t\t\t\t\t\tstrokeColor: '#ff5733',\n\t\t\t\t\t\tstrokeWidth: 5,\n\t\t\t\t\t\tstrokeStyle: 'dash',\n\t\t\t\t\t}}/>\n\t\t\t</Map>\n\t\t</Droppable>\n\t</YMaps>\n}","import React, { useState } from 'react';\nimport { DndProvider } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport { Draggable } from './components/Draggble';\nimport { RLSMap } from './components/Map';\nimport { getBezierCurve } from './utils';\nimport Slider from 'react-input-slider';\nimport './App.css';\n\nconst targetTypes = ['Aircraft', 'Helicopter', 'Cruise missile', 'Drone'];\n\nconst App = () => {\n\tconst [placemarks, setPlacmarks] = useState([]);\n\tconst [targets, setTargets] = useState([]);\n\tconst [start, setStart] = useState(false);\n\tconst [pointerIndex, setPointerIndex] = useState(0);\n\tconst [simulationSpeed, setSimulationSpeed] = useState(1);\n\tconst [pointer, setPointer] = useState([]);\n\tconst [bezeir, setBezier] = useState([]);\n\tconst [selectedTarget, setSelectedTarget] = useState('');\n\tconst [targetsPoints, setTargetsPoints] = useState({});\n\n\tReact.useEffect(() => {\n\t\tif(targetsPoints[selectedTarget]) {\n\t\t\tsetBezier(getBezierCurve(placemarks, 0.01));\n\t\t\tsetPointer(targetsPoints[selectedTarget][0]);\n\t\t}\n\t}, [placemarks, selectedTarget, targetsPoints]);\n\n\tconst onStart = () => setStart(true);\n\tconst onPause = () => setStart(false);\n\tconst onReload = () => {\n\t\tsetStart(false);\n\t\tsetPointerIndex(0);\n\t\tsetPointer(targetsPoints[selectedTarget][0]);\n\t}\n\tconst onSelect = (e) => setSimulationSpeed(e.target.value + 1);\n\n\tconst onSliderChange = (e) => {\n\t\tsetStart(false);\n\t\tsetPointerIndex(e.x);\n\t\tsetPointer(bezeir[e.x])\n\t}\n\n\tconst onTargetSelect = (item) => {\n\t\tsetSelectedTarget(item);\n\t\tsetPlacmarks(targetsPoints[item]);\n\t\tsetPointerIndex(0);\n\t\tsetPointer(targetsPoints[selectedTarget][0]);\n\t\tsetStart(false);\n\t}\n\n\treturn (<DndProvider backend={HTML5Backend}>\n\t\t\t<div className='controls-wrapper'>\n\t\t\t\t<button onClick={onStart}>Start simulation</button>\n\t\t\t\t<button onClick={onPause}>Pause simulation</button>\n\t\t\t\t<button onClick={onReload}>Reload simulation</button>\n\t\t\t\t<Slider axis=\"x\" x={pointerIndex} onChange={onSliderChange} xmin={0} xmax={bezeir.length - 1}/>\n\t\t\t\t<select name='speed' onChange={onSelect}>\n\t\t\t\t\t{new Array(10)\n\t\t\t\t\t\t.fill(0)\n\t\t\t\t\t\t.map((item, index) => <option key={`option__${index + 1}`} value={index + 1}>{index + 1}x</option>)}\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t\t<div className='wrapper'>\n\t\t\t\t<div className='menu-wrapper'>\n\t\t\t\t\t<h3>Target types</h3>\n\t\t\t\t\t<ul className='list'>\n\t\t\t\t\t\t{targetTypes.map(item => <li\n\t\t\t\t\t\t\tkey={item}\n\t\t\t\t\t\t\tclassName='list-item'>\n\t\t\t\t\t\t\t<Draggable name={item}/>\n\t\t\t\t\t\t</li>)}\n\t\t\t\t\t</ul>\n\t\t\t\t\t<h3>Targets</h3>\n\t\t\t\t\t<ul className='list'>\n\t\t\t\t\t\t{targets.map(item => <li\n\t\t\t\t\t\t\tkey={item}\n\t\t\t\t\t\t\tclassName={`list-item ${selectedTarget === item ? 'list-item--selected' : ''}`}\n\t\t\t\t\t\t\tonClick={() => onTargetSelect(item)}>\n\t\t\t\t\t\t\t{item}\n\t\t\t\t\t\t</li>)}\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t\t<div >\n\t\t\t\t\t\t<RLSMap\n\t\t\t\t\t\t\t\tplacemarks={placemarks}\n\t\t\t\t\t\t\t\tsetPlacmarks={setPlacmarks}\n\t\t\t\t\t\t\t\tsetTargets={setTargets}\n\t\t\t\t\t\t\t\tstart={start}\n\t\t\t\t\t\t\t\tsetPointerIndex={setPointerIndex}\n\t\t\t\t\t\t\t\tpointerIndex={pointerIndex}\n\t\t\t\t\t\t\t\tsimulationSpeed={simulationSpeed}\n\t\t\t\t\t\t\t\tpointer={pointer}\n\t\t\t\t\t\t\t\tsetPointer={setPointer}\n\t\t\t\t\t\t\t\tbezeir={bezeir}\n\t\t\t\t\t\t\t\tselectedTarget={selectedTarget}\n\t\t\t\t\t\t\t\tsetSelectedTarget={setSelectedTarget}\n\t\t\t\t\t\t\t\ttargetsPoint={targetsPoints}\n\t\t\t\t\t\t\t\tsetTargetsPoints={setTargetsPoints}/>\n\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</DndProvider>\n\t)\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}