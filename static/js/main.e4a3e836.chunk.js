(this["webpackJsonprls-editor"]=this["webpackJsonprls-editor"]||[]).push([[0],{36:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(24),o=n.n(a),i=n(3),s=n(45),l=n(29),u=n(46),j=n(2),b=function(e){var t=e.name,n=Object(u.a)((function(){return{type:"draggable",item:{name:t},collect:function(e){return{opacity:e.isDragging()?.4:1}}}}),[t]),c=Object(i.a)(n,2),r=c[0].opacity,a=c[1];return Object(j.jsx)("div",{ref:a,style:{opacity:r},children:t})},f=n(7),d=n(9),O=n(8),g=n(47);function p(e,t,n){function c(e){return e<=1?1:e*c(e-1)}return c(t)/(c(e)*c(t-e))*Math.pow(n,e)*Math.pow(1-n,t-e)}function h(e,t,n){return e.fromGlobalPixels(n.converter.pageToGlobal([t.x,t.y]),n.getZoom())}var m=function(e){var t=e.allowedDropEffect,n=e.children,c=e.map,r=e.setTargets,a=e.setSelectedTarget,o=e.setTargetsPoints,s=e.setPlacmarks,l=Object(g.a)((function(){return{accept:"draggable",drop:function(e,t){r((function(n){var r=n.filter((function(t){return-1!==t.indexOf(e.name)})).length+1,i=c.current,l=h(i.options.get("projection"),t.getClientOffset(),i);return o((function(t){var n=Object(d.a)({},t);return n["".concat(e.name," ").concat(r)]=[l],s([l]),n})),a("".concat(e.name," ").concat(r)),[].concat(Object(f.a)(n),["".concat(e.name," ").concat(r)])}))}}}),[t]),u=Object(i.a)(l,2),b=(u[0],u[1]);return Object(j.jsx)("div",{ref:b,children:n})},x={center:[55.751574,37.573856],zoom:5},v=function(e){var t=e.placemarks,n=e.setPlacmarks,a=e.setTargets,o=e.start,i=e.setPointerIndex,s=e.pointerIndex,l=e.simulationSpeed,u=e.pointer,b=e.setPointer,g=e.bezeir,p=e.selectedTarget,v=e.setSelectedTarget,k=e.targetsPoint,S=e.setTargetsPoints,T=Object(c.useRef)(null);r.a.useEffect((function(){o&&setTimeout((function(){s<g.length&&(b(g[s]),i((function(e){return e+1})))}),1e3/l)}),[o,g,s,l]);var y=function(e,t){0!==t?S((function(e){var n=Object(d.a)({},e),c=function(e,t){var n=Object(f.a)(e);return n.splice(t,1),n}(Object(f.a)(e[p]),t);return n[p]=c,n})):console.warn("last point")};r.a.useEffect((function(){k[p]&&n(k[p])}),[k]);return Object(j.jsx)(O.d,{children:Object(j.jsx)(m,{allowedDropEffect:"copy",map:T,setTargets:a,setSelectedTarget:v,setPlacmarks:n,setTargetsPoints:S,children:Object(j.jsxs)(O.a,{defaultState:x,width:800,height:900,onClick:function(e){if(p){var t=e.get("coords");S((function(e){var n=Object(d.a)({},e);return n[p].push(t),n}))}},instanceRef:function(e){e&&e.behaviors.disable("dblClickZoom"),T.current=e},children:[t.map((function(e,t){return Object(j.jsx)(O.b,{geometry:e,options:{draggable:!0},onDragEnd:function(e){return function(e,t){var n={x:e.get("position")[0],y:e.get("position")[1]},c=T.current,r=h(c.options.get("projection"),n,c);S((function(e){var n=Object(d.a)({},e),c=Object(f.a)(e[p]);return c[t]=r,n[p]=c,n}))}(e,t)},onDblclick:function(e){return y(0,t)}},"".concat(e[0],"__").concat(e[1],"__").concat(t))})),g.length>0&&Object(j.jsx)(O.c,{geometry:g.slice(0,s),options:{balloonCloseButton:!1,strokeColor:"#FFD733",strokeWidth:4,strokeOpacity:.5,editorMaxPoints:20}}),0!==u.length&&Object(j.jsx)(O.b,{geometry:u,options:{preset:"islands#circleIcon",iconColor:"#D9300C"}}),Object(j.jsx)(O.c,{geometry:g,options:{balloonCloseButton:!1,strokeColor:"#ff5733",strokeWidth:5,strokeStyle:"dash"}})]})})})},k=n(28),S=(n(36),["Aircraft","Helicopter","Cruise missile","Drone"]),T=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],a=t[1],o=Object(c.useState)([]),u=Object(i.a)(o,2),f=u[0],d=u[1],O=Object(c.useState)(!1),g=Object(i.a)(O,2),h=g[0],m=g[1],x=Object(c.useState)(0),T=Object(i.a)(x,2),y=T[0],C=T[1],P=Object(c.useState)(1),w=Object(i.a)(P,2),D=w[0],E=w[1],I=Object(c.useState)([]),N=Object(i.a)(I,2),F=N[0],_=N[1],A=Object(c.useState)([]),B=Object(i.a)(A,2),M=B[0],z=B[1],R=Object(c.useState)(""),G=Object(i.a)(R,2),J=G[0],L=G[1],W=Object(c.useState)({}),Z=Object(i.a)(W,2),H=Z[0],q=Z[1];r.a.useEffect((function(){H[J]&&(z(function(e,t){if(void 0===t&&(t=.01),e.length<2)return[];for(var n=new Array,c=0;c<1+t;c+=t){c>1&&(c=1);var r=n.length;n[r]=new Array(0,0);for(var a=0;a<e.length;a++){var o=p(a,e.length-1,c);n[r][0]+=e[a][0]*o,n[r][1]+=e[a][1]*o}}return n}(n,.01)),_(H[J][0]))}),[n,J,H]);return Object(j.jsxs)(s.a,{backend:l.a,children:[Object(j.jsxs)("div",{className:"controls-wrapper",children:[Object(j.jsx)("button",{onClick:function(){return m(!0)},children:"Start simulation"}),Object(j.jsx)("button",{onClick:function(){return m(!1)},children:"Pause simulation"}),Object(j.jsx)("button",{onClick:function(){m(!1),C(0),_(H[J][0])},children:"Reload simulation"}),Object(j.jsx)(k.a,{axis:"x",x:y,onChange:function(e){m(!1),C(e.x),_(M[e.x])},xmin:0,xmax:M.length-1}),Object(j.jsx)("select",{name:"speed",onChange:function(e){return E(e.target.value+1)},children:new Array(10).fill(0).map((function(e,t){return Object(j.jsxs)("option",{value:t+1,children:[t+1,"x"]},"option__".concat(t+1))}))})]}),Object(j.jsxs)("div",{className:"wrapper",children:[Object(j.jsxs)("div",{className:"menu-wrapper",children:[Object(j.jsx)("h3",{children:"Target types"}),Object(j.jsx)("ul",{className:"list",children:S.map((function(e){return Object(j.jsx)("li",{className:"list-item",children:Object(j.jsx)(b,{name:e})},e)}))}),Object(j.jsx)("h3",{children:"Targets"}),Object(j.jsx)("ul",{className:"list",children:f.map((function(e){return Object(j.jsx)("li",{className:"list-item ".concat(J===e?"list-item--selected":""),onClick:function(){return function(e){L(e),a(H[e]),C(0),_(H[J][0]),m(!1)}(e)},children:e},e)}))})]}),Object(j.jsx)("div",{children:Object(j.jsx)(v,{placemarks:n,setPlacmarks:a,setTargets:d,start:h,setPointerIndex:C,pointerIndex:y,simulationSpeed:D,pointer:F,setPointer:_,bezeir:M,selectedTarget:J,setSelectedTarget:L,targetsPoint:H,setTargetsPoints:q})})]})]})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,48)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),a(e),o(e)}))};o.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(T,{})}),document.getElementById("root")),y()}},[[40,1,2]]]);
//# sourceMappingURL=main.e4a3e836.chunk.js.map