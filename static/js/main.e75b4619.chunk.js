(this["webpackJsonprls-editor"]=this["webpackJsonprls-editor"]||[]).push([[0],{36:function(t,e,n){},40:function(t,e,n){"use strict";n.r(e);var c=n(0),r=n.n(c),o=n(24),a=n.n(o),i=n(3),s=n(45),l=n(29),u=n(46),j=n(2),b=function(t){var e=t.name,n=Object(u.a)((function(){return{type:"draggable",item:{name:e},collect:function(t){return{opacity:t.isDragging()?.4:1}}}}),[e]),c=Object(i.a)(n,2),r=c[0].opacity,o=c[1];return Object(j.jsx)("div",{ref:o,style:{opacity:r},children:e})},d=n(8),f=n(9),O=n(7),p=n(47);function g(t,e,n){function c(t){return t<=1?1:t*c(t-1)}return c(e)/(c(t)*c(e-t))*Math.pow(n,t)*Math.pow(1-n,e-t)}function m(t,e,n){return t.fromGlobalPixels(n.converter.pageToGlobal([e.x,e.y]),n.getZoom())}var h=function(t){var e=t.allowedDropEffect,n=t.children,c=t.map,r=t.setTargets,o=t.setSelectedTarget,a=t.setTargetsPoints,s=Object(p.a)((function(){return{accept:"draggable",drop:function(t,e){r((function(n){var r=n.filter((function(e){return-1!==e.indexOf(t.name)})).length+1,i=c.current,s=m(i.options.get("projection"),e.getClientOffset(),i);return a((function(e){var n=Object(f.a)({},e);return n["".concat(t.name," ").concat(r)]=[s],n})),o("".concat(t.name," ").concat(r)),[].concat(Object(d.a)(n),["".concat(t.name," ").concat(r)])}))}}}),[e]),l=Object(i.a)(s,2),u=(l[0],l[1]);return Object(j.jsx)("div",{ref:u,children:n})},x=function(t){var e=t.points,n=t.onPlaceMarkDrag,r=t.onPlacmarkDbClick,o=t.pointerIndex,a=t.editable,s=Object(c.useState)(e),l=Object(i.a)(s,2),u=l[0],b=l[1],d=Object(c.useState)([]),f=Object(i.a)(d,2),p=f[0],m=f[1];return Object(c.useEffect)((function(){e.length>0&&(b(function(t,e){if(void 0===e&&(e=.01),t.length<2)return[];for(var n=new Array,c=0;c<1+e;c+=e){c>1&&(c=1);var r=n.length;n[r]=new Array(0,0);for(var o=0;o<t.length;o++){var a=g(o,t.length-1,c);n[r][0]+=t[o][0]*a,n[r][1]+=t[o][1]*a}}return n}(e,.01)),m(e[0]))}),e),Object(j.jsxs)(j.Fragment,{children:[e.map((function(t,e){return Object(j.jsx)(O.b,{options:{draggable:a},onDragEnd:function(t){return a&&n(t,e)},onDblclick:function(t){return a&&r(t,e)},geometry:t},"".concat(t[0],"__").concat(t[1],"__").concat(e))})),0!==p.length&&Object(j.jsx)(O.b,{geometry:u[o],options:{preset:"islands#circleIcon",iconColor:"#D9300C"}}),Object(j.jsx)(O.c,{geometry:e,options:{balloonCloseButton:!1,strokeColor:"#99ff33",strokeWidth:2,strokeStyle:"dash"}}),Object(j.jsx)(O.c,{geometry:u,options:{balloonCloseButton:!1,strokeColor:"#ff5733",strokeWidth:5,strokeStyle:"dash"}}),u.length>0&&Object(j.jsx)(O.c,{geometry:u.slice(0,o),options:{balloonCloseButton:!1,strokeColor:"#FFD733",strokeWidth:4,strokeOpacity:.5,editorMaxPoints:20}})]})},v={center:[55.751574,37.573856],zoom:5},k=function(t){var e=t.setTargets,n=t.start,o=t.setPointerIndex,a=t.pointerIndex,i=t.simulationSpeed,s=t.selectedTarget,l=t.setSelectedTarget,u=t.targetsPoint,b=t.setTargetsPoints,p=Object(c.useRef)(null);r.a.useEffect((function(){n&&setTimeout((function(){a<100&&o((function(t){return t+1}))}),1e3/i)}),[n,a,i]);var g=function(t,e){var n={x:t.get("position")[0],y:t.get("position")[1]},c=p.current,r=m(c.options.get("projection"),n,c);b((function(t){var n=Object(f.a)({},t),c=Object(d.a)(t[s]);return c[e]=r,n[s]=c,n}))},k=function(t,e){0!==e?b((function(t){var n=Object(f.a)({},t),c=function(t,e){var n=Object(d.a)(t);return n.splice(e,1),n}(Object(d.a)(t[s]),e);return n[s]=c,n})):console.warn("last point")};return Object(j.jsx)(O.d,{children:Object(j.jsx)(h,{allowedDropEffect:"copy",map:p,setTargets:e,setSelectedTarget:l,setTargetsPoints:b,children:Object(j.jsx)(O.a,{defaultState:v,width:800,height:900,onClick:function(t){if(s){var e=t.get("coords");b((function(t){var n=Object(f.a)({},t);return n[s].push(e),n}))}},onContextmenu:function(){return l("")},instanceRef:function(t){t&&t.behaviors.disable("dblClickZoom"),p.current=t},children:Object.keys(u).map((function(t){return{points:u[t],name:t}})).map((function(t,e){return Object(j.jsx)(x,{pointerIndex:a,points:t.points,editable:s===t.name,onPlaceMarkDrag:g,onPlacmarkDbClick:k,simulationSpeed:i,start:n},"route__".concat(e,"__").concat(t.points.length))}))})})})},C=n(28),y=(n(36),["Aircraft","Helicopter","Cruise missile","Drone"]),S=function(){var t=Object(c.useState)([]),e=Object(i.a)(t,2),n=e[0],r=e[1],o=Object(c.useState)(!1),a=Object(i.a)(o,2),u=a[0],d=a[1],f=Object(c.useState)(0),O=Object(i.a)(f,2),p=O[0],g=O[1],m=Object(c.useState)(1),h=Object(i.a)(m,2),x=h[0],v=h[1],S=Object(c.useState)(""),T=Object(i.a)(S,2),P=T[0],w=T[1],D=Object(c.useState)({}),_=Object(i.a)(D,2),I=_[0],F=_[1];return Object(j.jsxs)(s.a,{backend:l.a,children:[Object(j.jsxs)("div",{className:"controls-wrapper",children:[Object(j.jsx)("button",{onClick:function(){return d(!0)},children:"Start simulation"}),Object(j.jsx)("button",{onClick:function(){return d(!1)},children:"Pause simulation"}),Object(j.jsx)("button",{onClick:function(){d(!1),g(0)},children:"Reload simulation"}),Object(j.jsx)(C.a,{axis:"x",x:p,onChange:function(t){d(!1),g(t.x)},xmin:0,xmax:100}),Object(j.jsx)("select",{name:"speed",onChange:function(t){return v(t.target.value+1)},children:new Array(10).fill(0).map((function(t,e){return Object(j.jsxs)("option",{value:e+1,children:[e+1,"x"]},"option__".concat(e+1))}))})]}),Object(j.jsxs)("div",{className:"wrapper",children:[Object(j.jsxs)("div",{className:"menu-wrapper",children:[Object(j.jsx)("h3",{children:"Target types"}),Object(j.jsx)("ul",{className:"list",children:y.map((function(t){return Object(j.jsx)("li",{className:"list-item",children:Object(j.jsx)(b,{name:t})},t)}))}),Object(j.jsx)("h3",{children:"Targets"}),Object(j.jsx)("ul",{className:"list",children:n.map((function(t){return Object(j.jsx)("li",{className:"list-item ".concat(P===t?"list-item--selected":""),onClick:function(){return function(t){w(t),g(0),d(!1)}(t)},children:t},t)}))})]}),Object(j.jsx)("div",{children:Object(j.jsx)(k,{setTargets:r,start:u,setPointerIndex:g,pointerIndex:p,simulationSpeed:x,selectedTarget:P,setSelectedTarget:w,targetsPoint:I,setTargetsPoints:F})})]})]})},T=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,48)).then((function(e){var n=e.getCLS,c=e.getFID,r=e.getFCP,o=e.getLCP,a=e.getTTFB;n(t),c(t),r(t),o(t),a(t)}))};a.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(S,{})}),document.getElementById("root")),T()}},[[40,1,2]]]);
//# sourceMappingURL=main.e75b4619.chunk.js.map